{% extends "procurement/base.html" %}

{% block title %}View Asset | SammyA{% endblock %}
{% block header %}Asset Details{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <!-- Back Button -->
    <div class="mb-6">
        <a href="{{ url_for('procurement.assets') }}" 
           class="inline-flex items-center text-blue-600 hover:text-blue-800">
            <i class='bx bx-arrow-back mr-2'></i>
            Back to Assets
        </a>
    </div>

    <!-- Asset Details Card -->
    <div class="bg-white rounded-lg shadow-lg overflow-hidden">
        <!-- Header -->
        <div class="bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4">
            <div class="flex justify-between items-start">
                <div>
                    <h2 class="text-2xl font-bold text-white">{{ asset.code }}</h2>
                    <p class="text-blue-100 mt-1">{{ asset.description }}</p>
                </div>
                <span class="px-3 py-1 rounded-full text-sm font-semibold
                    {% if asset.qty_available > 10 %}bg-green-100 text-green-800
                    {% elif asset.qty_available > 0 %}bg-yellow-100 text-yellow-800
                    {% else %}bg-red-100 text-red-800{% endif %}">
                    {{ asset.status }}
                </span>
            </div>
        </div>

        <!-- Details Grid -->
        <div class="p-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Category -->
                <div class="border-b pb-4">
                    <label class="text-sm font-medium text-gray-500">Category</label>
                    <p class="mt-1 text-lg text-gray-900">
                        <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">
                            {{ asset.category }}
                        </span>
                    </p>
                </div>

                <!-- Group -->
                <div class="border-b pb-4">
                    <label class="text-sm font-medium text-gray-500">Group</label>
                    <p class="mt-1 text-lg text-gray-900">{{ asset.group or 'N/A' }}</p>
                </div>

                <!-- Quantity -->
                <div class="border-b pb-4">
                    <label class="text-sm font-medium text-gray-500">Quantity Available</label>
                    <p class="mt-1 text-lg text-gray-900 font-semibold">
                        {{ asset.qty_available }} {{ asset.uom }}
                    </p>
                </div>

                <!-- Unit Cost -->
                <div class="border-b pb-4">
                    <label class="text-sm font-medium text-gray-500">Unit Cost</label>
                    <p class="mt-1 text-lg text-gray-900 font-semibold">
                        ₦{{ "{:,.2f}".format(asset.unit_cost) }}
                    </p>
                </div>

                <!-- Total Cost -->
                <div class="border-b pb-4">
                    <label class="text-sm font-medium text-gray-500">Total Cost</label>
                    <p class="mt-1 text-lg text-green-600 font-bold">
                        ₦{{ "{:,.2f}".format(asset.total_cost) }}
                    </p>
                </div>

                <!-- UOM -->
                <div class="border-b pb-4">
                    <label class="text-sm font-medium text-gray-500">Unit of Measurement</label>
                    <p class="mt-1 text-lg text-gray-900">{{ asset.uom }}</p>
                </div>

                <!-- Created At -->
                <div class="border-b pb-4">
                    <label class="text-sm font-medium text-gray-500">Created</label>
                    <p class="mt-1 text-gray-900">{{ asset.created_at or 'N/A' }}</p>
                </div>

                <!-- Updated At -->
                <div class="border-b pb-4">
                    <label class="text-sm font-medium text-gray-500">Last Updated</label>
                    <p class="mt-1 text-gray-900">{{ asset.updated_at or 'N/A' }}</p>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="bg-gray-50 px-6 py-4 flex justify-end space-x-3">
            <a href="{{ url_for('procurement.assets') }}" 
               class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100">
                Close
            </a>
            <button onclick="if(confirm('Delete this asset?')) window.location.href='{{ url_for('procurement.assets') }}'" 
                    class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700">
                Delete Asset
            </button>
        </div>
    </div>
</div>
{% endblock %}
